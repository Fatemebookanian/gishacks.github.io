---
title: جلسه ۲ - تحلیل فضایی
---

## تحلیل همپوشانی وزنی

از این تحلیل برای مکانیابی بیمارستان جدید بر اساس فاصله از بیمارستان‌های وضع موجود، مراکز مدیریت بحران و کاربری‌های صنعتی موجود استفاده‌شد. کاربری‌های صنعتی در میانه تحلیل به لایه‌ها اضافه‌شد.
![تصویر 1](https://www.dropbox.com/scl/fi/nphrbwm0846uwf0hmzrhe/1.png?rlkey=yvy0zp67sn6rw7s7ccoukvr53&st=3ugt66vw&dl=1)
 لایه‌های محدوده تهران، بیمارستان‌های وضع موجود و مراکز مدیریت بحران


----------


### تبدیل لایه‌های وکتور به رستر
![تصویر2 ](https://www.dropbox.com/scl/fi/tt50jq6w9jhd90l0ayet5/2.png?rlkey=yn2dhq94hy4ubbst000pkp2pf&st=ng9834t2&dl=1)
تبدیل لایه وکتوری بیمارستان‌های وضع موجود به لایه‌ی رستری بیمارستان‌های وضع موجود
![تصویر3 ](https://www.dropbox.com/scl/fi/enm9nbntx2zcl2eo18ilo/3.png?rlkey=y44rrg0mcuoimtmodhcet91m2&st=non5r3zf&dl=1)
تبدیل لایه وکتوری مراکز مدیریت بحران به لایه رستری مراکز مدیریت بحران


----------


### تحلیل فاصله‌ای کل محدوده تهران بر اساس لایه‌های وکتوری
![تصویر 4](https://www.dropbox.com/scl/fi/5rxoj4e825co0z2fb3tu4/4.png?rlkey=zzz3zbduvefku5bm5d650n7sc&st=fei6zeca&dl=1)
ساخت  لایه رستری فاصله از بیمارستان در شهر تهران
![تصویر 5](https://www.dropbox.com/scl/fi/tbwhtujzzgdut5q7ypybo/5.png?rlkey=3j3ritwzw00ohvt44nmpie0gj&st=w60z4ftg&dl=1)
لایه رستری  فاصله از بیمارستان در شهر تهران

![تصویر 6](https://www.dropbox.com/scl/fi/z87ius4avp0vmrrdjfc4e/6.png?rlkey=bq5mazv4g1i4v9lzyqcmm0dz5&st=ovubs3n5&dl=1)
ساخت  لایه رستری فاصله از  مراکز مدیریت بحران در شهر تهران
![تصویر 7](https://www.dropbox.com/scl/fi/zewuaukijhrs1jy3taddb/7.png?rlkey=vh9z4uaio79vugp3x45a1201z&st=jul4bh94&dl=1)
لایه رستری  فاصله از  مراکز مدیریت بحران در شهر تهران


----------


### کلاس‌بندی مجدد برای لایه‌های رستری تولید شده در مرحله قبل
برای **هم‌ارزش کردن شاخص‌های مختلف**، آنها کلاس‌بندی مجدد انجام می‌دهیم.

![تصویر 8](https://www.dropbox.com/scl/fi/zewuaukijhrs1jy3taddb/7.png?rlkey=vh9z4uaio79vugp3x45a1201z&st=8bwf6kgm&dl=1)

#### کلاس های جدید برای لایه رستری فاصله از بیمارستان
برای ساخت بیمارستان هرچقدر فاصله **بیشتر** باشد مطلوب تر است.
![تصویر 9](https://www.dropbox.com/scl/fi/897v4mc3s9k6p9t1g7ujd/9.png?rlkey=j7a5ipo9tb3pn9lr74v5cy7ee&st=do2uyp08&dl=1)
####  لایه فاصله از بیمارستان ایجاد شده از کلاس‌بندی مجدد

![تصویر 10](https://www.dropbox.com/scl/fi/ivdvlf8pwrjupvoaz9672/10.png?rlkey=193pwxqu647aeuelk75laiy02&st=pk5m10e1&dl=1)
####  کلاس های جدید برای لایه رستری فاصله از  مراکز مدیریت بحران
برای ساخت بیمارستان هرچقدر فاصله **کمتر** باشد مطلوب تر است.
![تصویر 11](https://www.dropbox.com/scl/fi/n15ombyb16rivkvq6ktcr/11.png?rlkey=5sbodvf90rhsaa4qv08xvk1m2&st=2e3kev8e&dl=1)
####  لایه فاصله از  مراکز مدیریت بحران ایجاد شده از کلاس‌بندی مجدد


----------

## افزودن مولفه کاربری صنعتی به تحلیل

### انتخاب کاربری صنعتی از باقی کاربری‌ها
![تصویر 12](https://www.dropbox.com/scl/fi/4xqpzw2w8ntwmehq1rv0f/12.png?rlkey=tnsqh5god0quebtk63xrn567c&st=zbvzgxda&dl=1)
 #### در این مرحله فقط کاربری‌هایی که صنعتی هستند را انتخاب می‌کنیم.
![تصویر 13](https://www.dropbox.com/scl/fi/gfp6gbbpsc4cefkfza8cp/13.png?rlkey=bp0sjpudj2lma2zgqux1qblmy&st=qav1qz39&dl=1)
####  کاربری‌های صنعتی بصورت پولیگون سپس با استفاده از دستور centroid این پولیگون‌ها را تبدیل به نقطه می‌کنیم.
![تصویر 14](https://www.dropbox.com/scl/fi/g23m6t0y32mh8fq3nbxtu/14.png?rlkey=kcqj8mj06lgrbez5i2s5xkgm8&st=oqzqda3q&dl=1)
####  سپس اقداماتی که برای لایه بیمارستان و مراکز مدیریت بحران انجام دادیم، تکرار می‌کنیم.
![تصویر 16](https://www.dropbox.com/scl/fi/z5wrxpqwhfllh183kxwiz/16.png?rlkey=t7wcvxkb4pdkkq5g46z4ejexe&st=ng9jvyus&dl=1)
![تصویر 17](https://www.dropbox.com/scl/fi/z8us3uhnzogdnlwv5u97h/17.png?rlkey=whfohqo4d0qgnlr5exoe3t885&st=vdb37cyk&dl=1)
برای ساخت بیمارستان هرچقدر فاصله **بیشتر** باشد مطلوب تر است.


----------


## جمع اثر شاخص‌ها بر مکانیابی
![تصویر 18](https://www.dropbox.com/scl/fi/lhd9ypjrj2ad7hh0rbyp8/18.png?rlkey=9tpq8bm9nd2fqc1hezhkpg9fg&st=lqb7s9om&dl=1)
جمع وزن شاخص‌ها برابر با یک می‌شود که در این پروژه برای بیمارستان 40%، مراکز مدیریت بحران 20% و برای کاربری‌های صنعتی مقدار 40% لخاظ شده است.

### خروجی نهایی
![تصویر 19](https://www.dropbox.com/scl/fi/lt8kugb5614nhkjt7jaoa/19.png?rlkey=5y0m4f0qeti8nwtvjvt2jg1tm&st=epftkxj2&dl=1)
با توجه به دوری از مراکز صنعتی مقدار های 4 به بالا می‌تواند برای مکانیابی بیمارستان جدید انتخاب شوند.

## تحلیل فضایی
یکی از روش­ های قابل استفاده برای تحلیل فضایی، روش **تحلیل مطلوبیت** است. 
برای مثال، می خواهیم ایستگاه متروی جدیدی در تهران احداث کنیم، معیارها می تواند گزینه­ های زیر باشد:
ایستگاه­ های متروی موجود  
کاربری­ های اطراف
تراکم جمعیت  
تعداد شاغلین و مراکز تجاری
برای نمونه می خواهیم فاصله تا ایستگاه های متروی موجود را بدست آوریم. 2 نوع ارزیابی وجود دارد:
**نزدیکی**
**دسترسی**

برای شروع، نزدیکی را انتخاب می کنیم:
1. ابتدا باید لایه وکتوری را تبدیل به رستر کنیم. برای اینکار در قسمت vector conversion گزینه Rasterize (vector to raster) را انتخاب می کنیم. در پنجره باز شده، در قسمت Input layer، لایه وکتوری مورد نظر را انتخاب می کنیم. سپس در قسمت A Fixed value to burn ، عدد 1 را تایپ می کنیم. بخش Output Raster را روی گزینه Georeferensed می گذاریم. در قسمت Width و Height ، عدد 10 را تایپ می کنیم. 
https://www.dropbox.com/scl/fi/m80vrog0mdiwqgoxjd15w/Screenshot-2025-10-16-083803.png?rlkey=lf4fi143t5ijjjmps3c82zawd&st=iwiuaulc&dl=0
در قسمت Output Extent، می توانیم گزینه select extent on canvas را انتخاب کنیم و سپس محدوده مورد نظر را سلکت کنیم. در بخش Advanced Parameters، و در قسمت Output data type، گزینه Int 16 را انتخاب می کنیم و سپس Run می کنیم.
https://www.dropbox.com/scl/fi/fvnztm2fviqpqlu7zq1yg/Screenshot-2025-10-16-085112.png?rlkey=m2bq3d4zsc0wdkoui08racjb8&st=h9oc5d3l&dl=0
2. حالا باید نزدیکی را بسنجیم. از قسمت ،  Proximity ،Processing Toolbox را انتخاب میکنیم. در قسمت Input layer ، لایه رستری شده را وارد می کنیم. بعد قسمت Distance units ، گزینه Georeferenced Coordinates را انتخاب می کنیم. یک مسیر ذخیره برای لایه انتخاب می کنیم و run می کنیم. 
https://www.dropbox.com/scl/fi/akofyaka1o038c6tojju8/Screenshot-2025-10-17-121122.png?rlkey=s1c8firvlw7gcmsck2j8ls0dg&st=e1mfknbt&dl=0
3. مرحله بعد، طبقه بندی کردن فاصله هاست. هرچه فاصله از ایستگاه موجود بیشتر باشد، برای احداث ایستگاه جدید مطلوب تر است. از قسمت Reclassify by table ،Processing Toolbox  را انتخاب می کنیم. در قسمت Raster layer ، همان لایه Proximity  را انتخاب می کنیم. از قسمت Reclassification table علامت 3 نقطه را انتخاب میکنیم و Add row را زده و فاصله ها را طبقه بندی می کنیم:
https://www.dropbox.com/scl/fi/o3439p2ez2xaorjms81nz/Screenshot-2025-10-17-122312.png?rlkey=t4pfecg1zf2du83yvasy4qble&st=6lbbaw3p&dl=0
بعد قسمت output type  را در حالت Int 16 می گذاریم:
https://www.dropbox.com/scl/fi/uh40ak8ide551611qp9wy/Screenshot-2025-10-17-122549.png?rlkey=dcv7fqfqs585m31pdt7jtwvrk&st=jev3q3v5&dl=0
در آخر به چنین نقشه ای میرسیم:
https://www.dropbox.com/scl/fi/2qrjd3x6d1updb5tr8qhd/Screenshot-2025-10-17-123602.png?rlkey=6xkqovp9e3rihg9l3d08b7hyb&st=u45cfac0&dl=0
